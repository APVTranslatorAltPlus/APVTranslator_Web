@using APVTranslator_Entity.Models;
@model IEnumerable<APVTranslator_Entity.Models.Project>
@{
    ViewBag.Title = "Home Page";
}
@Styles.Render("~/bundles/index_css")
@Scripts.Render("~/bundles/index_js")
<div ng-controller="MyCtrl" class="app-index">
    <div class="m-top" ng-cloak style="font-size:19px;margin-top:10px">
        <button style="width:100px;float:right;margin-right:10px;" type="button" class="btn btn-warning" ng-show="checked" ng-click="loadListProject()">Back</button>
        <button style="float:left;" type="button" class="btn btn-success" data-toggle="modal" data-target="#createNewProjectModal" ng-click="getListUser()">Create New Project</button>
        @*   <label>APVTranslator</label>*@
    </div>
    <div class="m-center">
        <div class="row fill-height fill-width">
            <div class="col-xs-12 fill-height fill-width">
                <div class="sidenav fill-height" id="mySidenav" style="width:25%;display:inline;float:left;overflow-y:auto;border-radius:4px;">
                    <div class="main-left" ng-cloak style="position:relative">
                        <p style="position: absolute;padding:10px;margin-left:25%;font-size:large"><u><b>Project Details</b></u></p>
                        <div style="position:relative;padding:10px;top:30px;font-size:medium;">
                            <b>Project Name:</b>
                            <p style="display:inline" id="ProjectName">
                                {{currentProject.Title}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px; font-size:medium;">
                            <b>Status:</b>
                            <p style="display:inline" id="Status">
                                {{currentProject.Status?'Translated':'Translating'}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Progress:</b>
                            <p style="display:inline" id="Progress">
                                {{(currentProject.Progress!=null?currentProject.Progress:0)*100+"%"}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Path:</b>
                            <p style="display:inline;word-wrap:break-word" id="Path">
                                {{currentProject.Path}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Translate Language:</b>
                            <p style="display:inline" id="TranslateLanguage">
                                {{currentProject.LanguageDescription}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Create At:</b>
                            <p style="display:inline" id="CreateAt">
                                {{currentProject.CreateAt| date:'hh:mm dd/MM/yyyy'}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Create By:</b>
                            <p style="display:inline" id="CreateBy">
                                {{currentProject.CreateBy}}
                            </p>
                        </div>
                        <div style="position:relative;padding-top:40px;padding-left:10px;padding-right:10px;font-size:medium;">
                            <b>Deadline:</b>
                            <p style="display:inline" id="Deadline">
                                {{currentProject.DeadLine| date:'hh:mm dd/MM/yyyy'}}
                            </p>
                        </div>
                        <div class="splitter" style="" onclick="toggle()" id="splitterID" data-toggle="tooltip" title="Đóng chi tiết dự án"></div>
                    </div>

                </div>
                <div class="fill-height " id="gridTable" style="width:75%;display:inline;float:left">
                    <div class="main-index" style="width:100%;">
                        <div class="gridStyle" ng-init="init()" ng-grid="gridOptions"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*Modal*@
    <div class="modal fade" tabindex="-1" role="dialog" id="createNewProjectModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:100%">
                <div class="modal-header" style="background-color:rgb(216, 218, 247);border-radius:3px;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Create New Project</h4>
                </div>

                <div class="modal-body" style="width:100%">

                        <div class="form-group">
                            <label for="usr">Project Name:</label>
                            <input type="text" class="form-control" id="projectName" style="max-width:100%!important">
                        </div>

                        <div class="form-group">
                            <label for="translateLanguage">Translate Language:</label>
                            <select class="form-control" id="translateLanguage" style="max-width:100%!important">
                                <option value="0">Vietnamese To Japanese</option>
                                <option value="1">Japanese to Vietnamese</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="pwd">Member:</label>
                            <select type="text" class="form-control" id="member" style="max-width:100%!important" ng-change="changedValue(data2.selectedOption)" ng-options="option.Email for option in data2.availableOptions track by option.Email"
                                    ng-model="data2.selectedOption"></select>
                            @*    <hr>*@
                            @*   <tt>option = {{data2.selectedOption.Email}}</tt><br />*@
                        </div>
                        <tags-input display-property="Email" key-property="Id" ng-model="tags" placeholder="&nbsp" add-from-autocomplete-only="true" style="height:100px;">
                            <auto-complete source="loadTags($query)"></auto-complete>
                        </tags-input>

                        <div class="form-group">
                            <label for="descriptions">Descriptions:</label>
                            <textarea class="form-control" rows="5" id="descriptions" style="max-width:900px!important"></textarea>
                        </div>

                        <div class="dropdown form-group">
                            <label>Create At:</label>
                            <a class="dropdown-toggle" id="dropdownStart" role="button" data-toggle="dropdown" 
                              >
                                <div class="input-group date">
                                    <input type="text" data-date-time-input="YYYY-MM-DD HH:MM:SS" class="form-control" data-ng-model="dateRangeStart" style="max-width:900px!important">
                                    <span class="input-group-addon" style="color:#3f4a54"><i class="glyphicon glyphicon-calendar"></i></span>
                                </div>
                            </a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                <datetimepicker data-ng-model="dateRangeStart"
                                                data-datetimepicker-config="{ dropdownSelector: '#dropdownStart', renderOn: 'end-date-changed' }"
                                                data-on-set-time="startDateOnSetTime()"
                                                data-before-render="startDateBeforeRender($dates)"></datetimepicker>
                            </ul>
                        </div>

                        <div class="dropdown form-group">
                            <label>Deadline</label>
                            <a class="dropdown-toggle" id="dropdownEnd" role="button" data-toggle="dropdown" 
                              >
                                <div class="input-group date">
                                    <input type="text" data-date-time-input="YYYY-MM-DD HH:MM:SS" class="form-control" data-ng-model="dateRangeEnd" style="max-width:900px!important">
                                    <span class="input-group-addon" style="color:#3f4a54"><i class="glyphicon glyphicon-calendar"></i></span>
                                </div>
                            </a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                <datetimepicker data-ng-model="dateRangeEnd"
                                                data-datetimepicker-config="{ dropdownSelector: '#dropdownEnd', renderOn: 'start-date-changed' }"
                                                data-on-set-time="endDateOnSetTime()"
                                                data-before-render="endDateBeforeRender($view, $dates, $leftDate, $upDate, $rightDate)"></datetimepicker>
                            </ul>
                        </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" ng-click="createNewProject(1)">Save changes</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>



<style>
    @@media screen and (min-width: 768px) {

        #createNewProjectModal .modal-dialog {
            width: 900px;
        }
    }
</style>
